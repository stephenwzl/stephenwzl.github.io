<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Dart ä¸­çš„æ³›å‹ Â· stephenwzl</title><meta name="description" content="Dart ä¸­çš„æ³›å‹ - stephenwzl"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/avatar.png"><link rel="stylesheet" href="/css/apollo-v1.css"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-118080805-1"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-118080805-1');</script><link rel="search" type="application/opensearchdescription+xml" href="https://stephenwzl.github.io/atom.xml" title="stephenwzl"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/avatar.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/wangzhilong110" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/stephenwzl" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Dart ä¸­çš„æ³›å‹</h1><div class="post-info">Apr 27, 2018</div><div class="post-content"><p>æ—¢ç„¶ Dart 1.xç‰ˆæœ¬ä¸­ç±»å‹æ˜¯å¯ä»¥çœç•¥çš„ï¼Œé‚£ä¹ˆä½ æ˜¯æ²¡æœ‰å¿…è¦ä½¿ç”¨æ³›å‹çš„ã€‚ä½†å¦‚æœä½ æƒ³ä½¿ä»£ç æç¤ºæ›´å‹å¥½çš„è¯ï¼Œæ³›å‹åœ¨æŸç§ç¨‹åº¦ä¸Šè¿˜æ˜¯éå¸¸å¿…è¦çš„ã€‚<br>è¿™å°±å¥½æ¯” Objective-Cä¸­ï¼Œä¸€ä¸ª <code>NSArray&lt;NSString&gt;</code>å’Œä¸€ä¸ª <code>NSArray</code>æ‰€è·å¾—çš„æ•ˆæœå®Œå…¨ä¸åŒä¼¼çš„ã€‚</p>
<a id="more"></a>
<h1 id="ä¸ºå•¥æ‰§ç€äºæ³›å‹ï¼Ÿ"><a href="#ä¸ºå•¥æ‰§ç€äºæ³›å‹ï¼Ÿ" class="headerlink" title="ä¸ºå•¥æ‰§ç€äºæ³›å‹ï¼Ÿ"></a>ä¸ºå•¥æ‰§ç€äºæ³›å‹ï¼Ÿ</h1><p>ä¸¾ä¸ªğŸŒ°ï¼Œå¦‚æœä½ æƒ³å£°æ˜ä¸€ä¸ªåªèƒ½æ·»åŠ å­—ç¬¦ä¸²çš„ Listï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ <code>List&lt;String&gt;</code>å£°æ˜ã€‚è¿™æ ·å…¶ä»–ä½¿ç”¨ä½ ä»£ç çš„ç è§¦å°±èƒ½é¿å…åœ¨ Listä¸­å¡å…¥å…¶ä»–ç±»å‹çš„å¯¹è±¡ï¼Œå› ä¸ºä¸€æ—¦å¡å…¥ï¼Œç¼–è¾‘å™¨å°±ä¼šç»™ä¸æç¤ºã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = <span class="keyword">new</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">names.addAll([<span class="string">'Seth'</span>, <span class="string">'Kathy'</span>, <span class="string">'Lars'</span>]);</span><br><span class="line">names.add(<span class="number">42</span>);  <span class="comment">// IDE warning</span></span><br></pre></td></tr></table></figure>
<p>å†ä¸¾ä¸€ä¸ªğŸŒ°ï¼Œç”¨æ³›å‹å¯ä»¥æé«˜ä»£ç çš„é‡ç”¨ã€‚æ¯”æ–¹è¯´ä½ è¦å£°æ˜ä¸€ä¸ªå†…å­˜ç¼“å­˜çš„æ¥å£ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectCache</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span> getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, <span class="built_in">Object</span> value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†è¿™æ—¶å€™ä½ å‘ç°ä½ éœ€è¦ä¸€ä¸ª Stringç±»å‹çš„æ¥å£ï¼Œè€Œä¸æ˜¯ Objectç±»å‹çš„ï¼Œæ‰€ä»¥ä½ è¦å†åˆ›å»ºä¸€ä¸ªï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">StringCache</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, <span class="built_in">String</span> value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>double commitï¼Œå¤šäº†ä¸€å€ä»£ç ä½ çš„ KPIå°±ä¼š doubleäº†å—ï¼ŸNaiveï¼åˆ«äººä¼šå–·ä½ èœçš„æŠ è„š</p>
</blockquote>
<p>å¦‚æœä½ éœ€è¦å†å£°æ˜ä¸€ä¸ªæ•°å­—ç±»å‹çš„å‘¢ï¼Ÿå†æ¥ä¸€éå—ï¼Ÿå¾ˆæ˜æ˜¾æ³›å‹å°±æ˜¯ä¸ºè¿™ç§åœºæ™¯è®¾è®¡çš„ï¼š</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Cache</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  T getByKey(<span class="built_in">String</span> key);</span><br><span class="line">  <span class="keyword">void</span> setByKey(<span class="built_in">String</span> key, T value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å’Œå…¶ä»–è¯­è¨€çš„æ³›å‹ä¸€æ ·ï¼Œè¿™é‡Œçš„ Tåªæ˜¯å…·ä½“ç±»å‹çš„æ›¿èº«ï¼Œä½ åœ¨ä½¿ç”¨æ—¶ä¼šç”¨å…·ä½“çš„ç±»å‹æ›¿æ¢æ‰è¿™ä¸ª Tã€‚</p>
<h1 id="ä½¿ç”¨æ³›å‹ä¸ºé›†åˆå­—é¢é‡è¿›è¡Œç±»å‹æ£€æŸ¥"><a href="#ä½¿ç”¨æ³›å‹ä¸ºé›†åˆå­—é¢é‡è¿›è¡Œç±»å‹æ£€æŸ¥" class="headerlink" title="ä½¿ç”¨æ³›å‹ä¸ºé›†åˆå­—é¢é‡è¿›è¡Œç±»å‹æ£€æŸ¥"></a>ä½¿ç”¨æ³›å‹ä¸ºé›†åˆå­—é¢é‡è¿›è¡Œç±»å‹æ£€æŸ¥</h1><p>æˆ‘ä»¬åœ¨å†™ä»£ç ä¸­çš„å­—é¢é‡çš„æ—¶å€™å¾€å¾€æ˜¯éšå¿ƒæ‰€æ¬²çš„ï¼Œè¿™å°±ä¼šå¯¼è‡´å†™é”™ä¸€ä¸ªå­—é¢é‡çš„ç±»å‹å°±ä¼šåŸ‹ä¸‹å®‰å…¨éšæ‚£ã€‚ä¸ºå­—é¢é‡æ·»åŠ ä¸Šæ³›å‹æ—¶å°±å¯ä»¥è®©é™æ€åˆ†æå™¨å¸®å¿™æ£€æŸ¥å­—é¢é‡ä¸­çš„é”™è¯¯ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;[<span class="string">'Seth'</span>, <span class="string">'Kathy'</span>, <span class="string">'Lars'</span>];</span><br><span class="line"><span class="keyword">var</span> pages = &lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt;&#123;</span><br><span class="line">  <span class="string">'index.html'</span>: <span class="string">'Homepage'</span>,</span><br><span class="line">  <span class="string">'robots.txt'</span>: <span class="string">'Hints for web robots'</span>,</span><br><span class="line">  <span class="string">'humans.txt'</span>: <span class="string">'We are people, not machines'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸ºæ„é€ å‡½æ•°æ·»åŠ å‚æ•°åŒ–ç±»å‹"><a href="#ä¸ºæ„é€ å‡½æ•°æ·»åŠ å‚æ•°åŒ–ç±»å‹" class="headerlink" title="ä¸ºæ„é€ å‡½æ•°æ·»åŠ å‚æ•°åŒ–ç±»å‹"></a>ä¸ºæ„é€ å‡½æ•°æ·»åŠ å‚æ•°åŒ–ç±»å‹</h1><p>åƒé›†åˆç±»å‹ï¼Œå’Œ Javaç±»ä¼¼ï¼Œä½ åœ¨ä½¿ç”¨æ„é€ å‡½æ•°åˆå§‹åŒ–é›†åˆå®ä¾‹å¯¹è±¡æ—¶å¯ä»¥ä¸ºå®ƒçš„ç±»å‹æ·»åŠ çº¦æŸã€‚<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = <span class="keyword">new</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">names.addAll([<span class="string">'Seth'</span>, <span class="string">'Kathy'</span>, <span class="string">'Lars'</span>]);</span><br><span class="line"><span class="keyword">var</span> nameSet = <span class="keyword">new</span> <span class="built_in">Set</span>&lt;<span class="built_in">String</span>&gt;.from(names);</span><br><span class="line"><span class="keyword">var</span> views = <span class="keyword">new</span> <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, View&gt;();</span><br></pre></td></tr></table></figure></p>
<h1 id="åˆ¤æ–­é›†åˆç±»å‹"><a href="#åˆ¤æ–­é›†åˆç±»å‹" class="headerlink" title="åˆ¤æ–­é›†åˆç±»å‹"></a>åˆ¤æ–­é›†åˆç±»å‹</h1><p>Dartä¸­é›†åˆçš„ç±»å‹æ˜¯å…·ä½“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ é€šè¿‡æ³›å‹çº¦æŸé›†åˆåï¼Œå°±æ˜¯å¯¹åº”çš„ç±»å‹ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = <span class="keyword">new</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;();</span><br><span class="line">names.addAll([<span class="string">'Seth'</span>, <span class="string">'Kathy'</span>, <span class="string">'Lars'</span>]);</span><br><span class="line"><span class="built_in">print</span>(names <span class="keyword">is</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt;); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½†æœ‰æ—¶å€™ Listä¸­çš„ itemå¹¶ä¸ä¼šçœŸçš„éƒ½æ˜¯ Stringç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨ itemæ—¶æœ€å¥½æ¯ä¸€ä¸ªéƒ½è¦åˆ¤æ–­ä¸€ä¸‹ç±»å‹ã€‚</p>
</blockquote>
<h1 id="çº¦æŸå‚æ•°ç±»å‹"><a href="#çº¦æŸå‚æ•°ç±»å‹" class="headerlink" title="çº¦æŸå‚æ•°ç±»å‹"></a>çº¦æŸå‚æ•°ç±»å‹</h1><p>æœ‰æ—¶å€™ä½ åœ¨å®ç°ç±»ä¼¼é€šç”¨æ¥å£çš„æ³›å‹ä¸­æœŸæœ›çš„ç±»å‹æ˜¯æŸäº›ç‰¹å®šç±»å‹æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ç±»å‹çº¦æŸ</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// T ç±»å‹å¿…é¡»æ˜¯ SomeClassç±»å‹æˆ–è€…å®ƒçš„å­ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">SomeBaseClass</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Extender</span> <span class="keyword">extends</span> <span class="title">SomeBaseClass</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Â·Â·Â·</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// å¯ä»¥ä½¿ç”¨ SomeBaseClassç±»å‹</span></span><br><span class="line">  <span class="keyword">var</span> someBaseClassFoo = <span class="keyword">new</span> Foo&lt;SomeBaseClass&gt;();</span><br><span class="line">  <span class="keyword">var</span> extenderFoo = <span class="keyword">new</span> Foo&lt;Extender&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨æ³›å‹å‡½æ•°"><a href="#ä½¿ç”¨æ³›å‹å‡½æ•°" class="headerlink" title="ä½¿ç”¨æ³›å‹å‡½æ•°"></a>ä½¿ç”¨æ³›å‹å‡½æ•°</h1><p>åˆšå¼€å§‹çš„æ—¶å€™ï¼ŒDartçš„æ³›å‹åªå±€é™äºå®ç° classå±‚é¢ï¼Œä½†åæ¥ä¹Ÿæ”¯æŒäº†æ³›å‹å‡½æ•°ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">T first&lt;T&gt;(<span class="built_in">List</span>&lt;T&gt; ts) &#123;</span><br><span class="line">  <span class="comment">// Do some initial work or error checking, then...</span></span><br><span class="line">  T tmp = ts[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">// Do some additional checking or processing...</span></span><br><span class="line">  <span class="keyword">return</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a>The End</h1><p>æ³›å‹çš„ç©æ³•å…¶å®ä¸å°‘ï¼Œä¸Šæ–‡çš„ä»‹ç»è¿˜æ˜¯ç€é‡ä¸ä»£ç é‡ç”¨å’Œç±»å‹æ£€æŸ¥è¿™ä¸ªå±‚æ¬¡ã€‚æ›´å¤šçš„ç”¨æ³•ä¸ä»…å¯ä»¥ä» C++ç­‰å…¶ä»–è¯­è¨€å¸æ”¶ç»éªŒï¼Œä¹Ÿå¯ä»¥å‚é ç¤¾åŒºçš„ä¸€äº›è®¨è®ºã€‚</p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/05/14/flutter-principle/" class="prev">PREV</a><a href="/2018/04/25/dart-class/" class="next">NEXT</a></div><div class="copyright"><p>Â© 2015 - 2021 <a href="https://stephenwzl.github.io">stephenwzl</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>